---
import BaseLayout from '../layouts/BaseLayout.astro';
import MasonryGrid from '../components/MasonryGrid.astro';
import Lightbox from '../components/Lightbox.astro';
import { getSiteConfig, getPhotoWallPhotos, getCloudinaryUrl } from '../utils/config';

const siteConfig = getSiteConfig();
const photos = getPhotoWallPhotos();

const heroUrl = getCloudinaryUrl(siteConfig.hero.image, {
  width: 1920,
  quality: 'auto',
  format: 'auto',
});
---

<BaseLayout>
  <section class="hero">
    <img src={heroUrl} alt={siteConfig.hero.alt} />
    <div class="hero-content">
      <h1>{siteConfig.site_name}</h1>
      <p>{siteConfig.tagline}</p>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2 class="section-title">Recent Work</h2>
      <MasonryGrid photos={photos} />
    </div>
  </section>

  <Lightbox />
</BaseLayout>

<style>
  .section-title {
    font-size: 1.5rem;
    font-weight: 400;
    margin-bottom: 2rem;
    text-align: center;
    color: #666;
  }
</style>
