---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCategoryBySlug, getPhotosByCategory, getCloudinaryUrl } from '../../utils/config';

const category = getCategoryBySlug('wildlife');
const photos = getPhotosByCategory('wildlife');
---

<BaseLayout
  title={category?.name || 'Wildlife'}
  description={category?.description || 'Wildlife photography by Shalini Prabha'}
>
  <div class="category-header">
    <div class="container">
      <h1>{category?.name}</h1>
      <p>{category?.description}</p>
    </div>
  </div>

  <section class="section">
    <div class="container">
      <div class="photo-grid">
        {photos.map((photo) => {
          const imageUrl = getCloudinaryUrl(photo.cloudinary_id, {
            width: 600,
            quality: 'auto',
            format: 'auto',
          });
          return (
            <a href={`/wildlife/${photo.slug}/`} class="photo-card">
              <img
                src={imageUrl}
                alt={photo.title}
                loading="lazy"
                width={photo.width}
                height={photo.height}
              />
              <div class="overlay">
                <span class="photo-title">{photo.title}</span>
              </div>
            </a>
          );
        })}
      </div>
    </div>
  </section>
</BaseLayout>
